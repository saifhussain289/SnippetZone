(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(5155),a=r(4590),i=r(2115),n=r(3463),l=r(9795);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,n.$)(t))}let d=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:o("rounded-xl border bg-card text-card-foreground shadow",r),...a})});d.displayName="Card";let c=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let u=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:o("font-semibold leading-none tracking-tight",r),...a})});u.displayName="CardTitle";let m=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:o("text-sm text-muted-foreground",r),...a})});m.displayName="CardDescription";let x=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:o("p-6 pt-0",r),...a})});x.displayName="CardContent";let f=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",r),...a})});f.displayName="CardFooter";var g=r(1290);let h=(0,r(1027).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),b=i.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:n=!1,...l}=e,d=n?g.DX:"button";return(0,s.jsx)(d,{className:o(h({variant:a,size:i,className:r})),ref:t,...l})});b.displayName="Button";let p=i.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:o("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});function v(){let[e,t]=(0,i.useState)(""),{login:r}=(0,a.F)();return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)(d,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{className:"text-2xl font-bold text-center",children:"Welcome to Text Social"}),(0,s.jsx)(m,{className:"text-center text-gray-400",children:"A simple text-only social platform"})]}),(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&r(e)},children:[(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{children:(0,s.jsx)(p,{className:"bg-gray-800 border-gray-700 text-white",placeholder:"Enter your username",value:e,onChange:e=>t(e.target.value),autoFocus:!0})})})}),(0,s.jsx)(f,{children:(0,s.jsx)(b,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:!e.trim(),children:"Enter"})})]})]})})}function y(e){let{post:t}=e;return(0,s.jsxs)(d,{className:"mb-4 bg-gray-900 border-gray-800",children:[(0,s.jsxs)(c,{className:"py-3 flex flex-row items-center justify-between border-b border-gray-800",children:[(0,s.jsxs)("div",{className:"font-bold text-white",children:["@",t.username]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:function(e){let t=new Date(e),r=new Date;if(t.toDateString()===r.toDateString())return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});let s=new Date;return(s.setDate(r.getDate()-7),t>s)?"".concat(t.toLocaleDateString([],{weekday:"short"})," ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):"".concat(t.toLocaleDateString([],{month:"short",day:"numeric"})," ").concat(t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}(t.timestamp)})]}),(0,s.jsx)(x,{className:"py-4",children:(0,s.jsx)("p",{className:"whitespace-pre-wrap text-white",children:t.text})})]})}p.displayName="Input";let j=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:o("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});function N(){let[e,t]=(0,i.useState)(""),{createPost:r}=(0,a.F)();return(0,s.jsx)(d,{className:"mb-6 bg-gray-900 border-gray-800",children:(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e.trim()&&(r(e),t(""))},children:[(0,s.jsx)(x,{className:"pt-4",children:(0,s.jsx)(j,{placeholder:"What's on your mind?",className:"min-h-24 bg-gray-800 border-gray-700 text-white",value:e,onChange:e=>t(e.target.value)})}),(0,s.jsx)(f,{className:"flex justify-end border-t border-gray-800 pt-2",children:(0,s.jsx)(b,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:!e.trim(),children:"Post"})})]})})}function w(){let{posts:e,currentUser:t,logout:r}=(0,a.F)();return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto p-4",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between mb-6 pt-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Text Social"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{className:"text-gray-400",children:["@",t]}),(0,s.jsx)(b,{variant:"outline",size:"sm",onClick:r,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Logout"})]})]}),(0,s.jsx)(N,{}),(0,s.jsx)("div",{children:0===e.length?(0,s.jsx)("div",{className:"text-center py-10 text-gray-400",children:"No posts yet. Be the first to post!"}):e.map(e=>(0,s.jsx)(y,{post:e},e.id))})]})}function S(){let{currentUser:e}=(0,a.F)();return(0,s.jsx)("main",{className:"min-h-screen bg-black",children:e?(0,s.jsx)(w,{}):(0,s.jsx)(v,{})})}j.displayName="Textarea"},1464:(e,t,r)=>{Promise.resolve().then(r.bind(r,676))},4590:(e,t,r)=>{"use strict";r.d(t,{F:()=>l,SocialProvider:()=>n});var s=r(5155),a=r(2115);let i=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,a.useState)(null),[l,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("currentUser");e&&n(e);try{let e=localStorage.getItem("posts");e&&o(JSON.parse(e))}catch(e){console.error("Failed to load posts from localStorage:",e),localStorage.removeItem("posts")}},[]),(0,a.useEffect)(()=>{localStorage.setItem("posts",JSON.stringify(l))},[l]),(0,a.useEffect)(()=>{r?localStorage.setItem("currentUser",r):localStorage.removeItem("currentUser")},[r]),(0,s.jsx)(i.Provider,{value:{currentUser:r,posts:l,login:e=>{e.trim()&&n(e.trim())},logout:()=>{n(null)},createPost:e=>{if(!r||!e.trim())return;let t={id:Date.now().toString(),text:e.trim(),username:r,timestamp:Date.now()};o(e=>[t,...e])}},children:t})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useSocial must be used within a SocialProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[40,441,587,358],()=>t(1464)),_N_E=e.O()}]);